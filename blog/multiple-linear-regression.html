<!DOCTYPE html>
<html lang="en" class="light-mode">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple Linear Regression in R and Python | My Portfolio</title>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <!-- Code Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-light.min.css" id="light-code-style">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css" id="dark-code-style" disabled>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/r.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <style>
        /* Reset and base styles */
        :root {
            --bg-primary: #f9f9f9;
            --bg-secondary: #ffffff;
            --text-primary: #333333;
            --text-secondary: #555555;
            --accent-primary: #3498db;
            --accent-secondary: #2c3e50;
            --border-color: #dddddd;
            --card-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
            --header-bg: #ffffff;
            --header-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --footer-bg: #2c3e50;
            --footer-text: #ffffff;
            --toc-bg: #f0f8ff;
            --example-bg: #f8f9fa;
            --key-points-bg: #e9f7fe;
            --table-header-bg: #3498db;
            --table-header-text: #ffffff;
            --table-row-even: #f2f2f2;
            --table-row-hover: #e9f7fe;
            --code-bg: #f5f5f5;
            --back-to-top-bg: #3498db;
            --back-to-top-hover: #2980b9;
            --equation-bg: #f8f9fa;
            --category-bg: #e9f7fe;
            --category-text: #3498db;
        }

        .dark-mode {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --accent-primary: #61dafb;
            --accent-secondary: #bb86fc;
            --border-color: #444444;
            --card-shadow: 0 2px 15px rgba(0, 0, 0, 0.2);
            --header-bg: #2d2d2d;
            --header-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            --footer-bg: #121212;
            --footer-text: #e0e0e0;
            --toc-bg: #2d2d2d;
            --example-bg: #3d3d3d;
            --key-points-bg: #3d3d3d;
            --table-header-bg: #444444;
            --table-header-text: #e0e0e0;
            --table-row-even: #333333;
            --table-row-hover: #444444;
            --code-bg: #2d2d2d;
            --back-to-top-bg: #61dafb;
            --back-to-top-hover: #4fa8d1;
            --equation-bg: #3d3d3d;
            --category-bg: #3d3d3d;
            --category-text: #61dafb;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        /* Header and Navigation */
        header {
            background-color: var(--header-bg);
            box-shadow: var(--header-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .logo a {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-secondary);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .logo a:hover {
            color: var(--accent-primary);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 2rem;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--text-secondary);
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }
        
        nav ul li a:hover {
            color: var(--accent-primary);
        }
        
        nav ul li a.active {
            color: var(--accent-primary);
        }
        
        nav ul li a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--accent-primary);
        }
        
        /* Theme Toggle */
        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 1.5rem;
            transition: color 0.3s;
        }
        
        .theme-toggle:hover {
            color: var(--accent-primary);
        }
        
        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Main Content */
        .blog-post {
            max-width: 800px;
            margin: 2rem auto 4rem;
            padding: 0 1.5rem;
        }
        
        /* Post Header */
        .post-header {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
            padding-bottom: 2rem;
        }
        
        .post-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(to right, var(--accent-primary), var(--accent-secondary));
        }
        
        .post-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--accent-secondary);
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        
        .post-meta {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .post-meta time {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .post-meta time::before {
            content: '\f073';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            margin-right: 0.5rem;
            color: var(--accent-primary);
        }
        
        .categories {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .categories a {
            background-color: var(--category-bg);
            color: var(--category-text);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            text-decoration: none;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .categories a:hover {
            background-color: var(--accent-primary);
            color: white;
        }
        
        /* Post Content */
        .post-content {
            background-color: var(--bg-secondary);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        .post-content h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--accent-secondary);
            margin: 2rem 0 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-primary);
            position: relative;
        }
        
        .post-content h2:first-child {
            margin-top: 0;
        }
        
        .post-content p {
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
            font-size: 1.05rem;
        }
        
        /* Lists */
        .post-content ul, .post-content ol {
            margin: 1rem 0 1.5rem 1.5rem;
        }
        
        .post-content li {
            margin-bottom: 0.75rem;
            position: relative;
            color: var(--text-secondary);
        }
        
        /* Code Blocks */
        pre {
            margin: 1.5rem 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
        }
        
        code {
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
        }
        
        p code, li code {
            background-color: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: background-color 0.3s ease;
        }
        
        /* Equation */
        .equation {
            background-color: var(--equation-bg);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2rem;
            font-family: 'Times New Roman', serif;
            transition: background-color 0.3s ease;
        }
        
        /* Tables */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            box-shadow: var(--card-shadow);
            border-radius: 8px;
            overflow: hidden;
            transition: box-shadow 0.3s ease;
        }
        
        .comparison-table thead {
            background-color: var(--table-header-bg);
            color: var(--table-header-text);
            transition: background-color 0.3s ease;
        }
        
        .comparison-table th, .comparison-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
            transition: border-color 0.3s ease;
        }
        
        .comparison-table tbody tr:nth-child(even) {
            background-color: var(--table-row-even);
            transition: background-color 0.3s ease;
        }
        
        .comparison-table tbody tr:hover {
            background-color: var(--table-row-hover);
            transition: background-color 0.3s ease;
        }
        
        /* Post Navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        
        .post-navigation a {
            color: var(--accent-primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            transition: color 0.3s;
        }
        
        .post-navigation a:hover {
            color: var(--accent-secondary);
        }
        
        .prev-post i {
            margin-right: 0.5rem;
        }
        
        .next-post i {
            margin-left: 0.5rem;
        }
        
        /* Footer */
        footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
            padding: 2rem 0;
            transition: background-color 0.3s ease;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .social-links a {
            color: var(--footer-text);
            margin-left: 1.5rem;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .social-links a:hover {
            color: var(--accent-primary);
        }
        
        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: var(--back-to-top-bg);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s, background-color 0.3s;
            z-index: 99;
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            background-color: var(--back-to-top-hover);
        }
        
        /* Progress Bar */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: transparent;
            z-index: 1000;
        }
        
        .progress-bar {
            height: 4px;
            background: var(--accent-primary);
            width: 0%;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .post-header h1 {
                font-size: 2rem;
            }
            
            .post-content {
                padding: 1.5rem;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            nav ul {
                position: fixed;
                top: 60px;
                left: 0;
                width: 100%;
                background-color: var(--header-bg);
                flex-direction: column;
                align-items: center;
                padding: 1rem 0;
                box-shadow: var(--header-shadow);
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: transform 0.3s, opacity 0.3s, visibility 0.3s;
                z-index: 99;
            }
            
            nav ul.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            
            nav ul li {
                margin: 0.5rem 0;
            }
            
            .footer-content {
                flex-direction: column;
                text-align: center;
            }
            
            .social-links {
                margin-top: 1rem;
            }
            
            .social-links a {
                margin: 0 0.75rem;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            .post-navigation {
                flex-direction: column;
                gap: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .post-header h1 {
                font-size: 1.75rem;
            }
            
            .post-content h2 {
                font-size: 1.5rem;
            }
            
            .back-to-top {
                bottom: 1rem;
                right: 1rem;
                width: 40px;
                height: 40px;
            }
        }
        
        /* Print Styles */
        @media print {
            .mobile-menu-toggle,
            .theme-toggle,
            .back-to-top,
            .progress-container,
            .post-navigation,
            footer {
                display: none !important;
            }
            
            body {
                background-color: white;
                color: black;
            }
            
            .blog-post {
                max-width: 100%;
                margin: 0;
                padding: 0;
            }
            
            .post-content {
                box-shadow: none;
                border: 1px solid #ddd;
                margin-bottom: 1.5rem;
            }
            
            a {
                color: black;
                text-decoration: underline;
            }
        }
    </style>
</head>
<body>
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <header>
        <nav>
            <div class="logo">
                <a href="../index.html">My Portfolio</a>
            </div>
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <ul id="navLinks">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../blog.html" class="active">Blog</a></li>
                <li><a href="../index.html#about">About</a></li>
                <li><a href="../index.html#contact">Contact</a></li>
                <li>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </li>
            </ul>
        </nav>
    </header>

    <main class="blog-post">
        <article>
            <header class="post-header">
                <h1>Multiple Linear Regression: Implementation in R and Python</h1>
                <div class="post-meta">
                    <time datetime="2025-03-27">March 27, 2025</time>
                    <span class="categories">
                        <a href="#">Data Science</a>
                        <a href="#">Statistics</a>
                        <a href="#">Programming</a>
                    </span>
                </div>
            </header>

            <div class="post-content">
                <h2>Introduction to Multiple Linear Regression</h2>
                <p>
                    Multiple linear regression is a statistical technique that uses several explanatory variables to predict the outcome of a response variable. It's an extension of simple linear regression and is used when we want to predict the value of a variable based on the value of two or more other variables.
                </p>

                <p>
                    The multiple linear regression model can be represented as:
                </p>

                <div class="equation">
                    Y = β₀ + β₁X₁ + β₂X₂ + ... + βₚXₚ + ε
                </div>

                <p>
                    Where:
                </p>
                <ul>
                    <li>Y is the dependent variable</li>
                    <li>X₁, X₂, ..., Xₚ are the independent variables</li>
                    <li>β₀ is the y-intercept (constant term)</li>
                    <li>β₁, β₂, ..., βₚ are the coefficients for each independent variable</li>
                    <li>ε is the error term</li>
                </ul>

                <h2>Implementation in R</h2>
                <p>
                    R is a powerful language for statistical computing and graphics. Let's see how to implement multiple linear regression in R using a sample dataset.
                </p>

                <pre><code class="language-r">
# Load required libraries
library(ggplot2)

# Create a sample dataset
set.seed(123)
n <- 100
x1 <- rnorm(n)
x2 <- rnorm(n)
x3 <- rnorm(n)
y <- 2 + 3*x1 - 0.5*x2 + 1.5*x3 + rnorm(n)
data <- data.frame(y=y, x1=x1, x2=x2, x3=x3)

# View the first few rows of the dataset
head(data)

# Fit the multiple linear regression model
model <- lm(y ~ x1 + x2 + x3, data=data)

# Display the summary of the model
summary(model)

# Visualize the results
par(mfrow=c(2,2))
plot(model)

# Predict using the model
new_data <- data.frame(x1=c(0.5, 1), x2=c(-0.5, 0), x3=c(1, 0.5))
predictions <- predict(model, newdata=new_data)
print(predictions)
                </code></pre>

                <p>
                    The output of the summary function provides important information about the model:
                </p>
                <ul>
                    <li>Coefficients: The estimated values of β₀, β₁, β₂, and β₃</li>
                    <li>Standard errors: The standard errors of the coefficient estimates</li>
                    <li>t-values and p-values: Used to test the significance of each coefficient</li>
                    <li>R-squared: The proportion of variance in the dependent variable explained by the independent variables</li>
                    <li>F-statistic: Tests the overall significance of the regression model</li>
                </ul>

                <h2>Implementation in Python</h2>
                <p>
                    Python, with libraries like scikit-learn and statsmodels, offers powerful tools for implementing multiple linear regression. Let's see how to do it:
                </p>

                <pre><code class="language-python">
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.linear_model import LinearRegression
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_squared_error, r2_score
import statsmodels.api as sm

# Create a sample dataset
np.random.seed(123)
n = 100
x1 = np.random.normal(0, 1, n)
x2 = np.random.normal(0, 1, n)
x3 = np.random.normal(0, 1, n)
y = 2 + 3*x1 - 0.5*x2 + 1.5*x3 + np.random.normal(0, 1, n)

# Create a DataFrame
data = pd.DataFrame({
    'y': y,
    'x1': x1,
    'x2': x2,
    'x3': x3
})

# Display the first few rows
print(data.head())

# Split the data into training and testing sets
X = data[['x1', 'x2', 'x3']]
y = data['y']
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# Using scikit-learn
model_sklearn = LinearRegression()
model_sklearn.fit(X_train, y_train)

# Print the coefficients
print("Intercept:", model_sklearn.intercept_)
print("Coefficients:", model_sklearn.coef_)

# Make predictions
y_pred = model_sklearn.predict(X_test)

# Evaluate the model
print("Mean Squared Error:", mean_squared_error(y_test, y_pred))
print("R² Score:", r2_score(y_test, y_pred))

# Using statsmodels for more detailed statistics
X_with_const = sm.add_constant(X)
model_statsmodels = sm.OLS(y, X_with_const).fit()
print(model_statsmodels.summary())

# Visualize the results
plt.figure(figsize=(10, 6))
plt.scatter(y_test, y_pred)
plt.plot([y.min(), y.max()], [y.min(), y.max()], 'k--', lw=2)
plt.xlabel('Actual')
plt.ylabel('Predicted')
plt.title('Actual vs Predicted Values')
plt.show()

# Residual plot
residuals = y_test - y_pred
plt.figure(figsize=(10, 6))
plt.scatter(y_pred, residuals)
plt.axhline(y=0, color='k', linestyle='--')
plt.xlabel('Predicted')
plt.ylabel('Residuals')
plt.title('Residual Plot')
plt.show()
                </code></pre>

                <h2>Comparing R and Python for Multiple Linear Regression</h2>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>R</th>
                            <th>Python</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Syntax</td>
                            <td>Simple and concise with the <code>lm()</code> function</td>
                            <td>More verbose, requires multiple libraries</td>
                        </tr>
                        <tr>
                            <td>Statistical Output</td>
                            <td>Comprehensive by default</td>
                            <td>Requires statsmodels for detailed statistics</td>
                        </tr>
                        <tr>
                            <td>Visualization</td>
                            <td>Built-in diagnostic plots</td>
                            <td>More customizable with matplotlib/seaborn</td>
                        </tr>
                        <tr>
                            <td>Integration</td>
                            <td>Better for statistical analysis only</td>
                            <td>Better for integrating with other data science tasks</td>
                        </tr>
                        <tr>
                            <td>Learning Curve</td>
                            <td>Steeper for general programming</td>
                            <td>Gentler for those with programming background</td>
                        </tr>
                    </tbody>
                </table>

                <h2>Assumptions of Multiple Linear Regression</h2>
                <p>
                    For multiple linear regression to be valid, several assumptions must be met:
                </p>
                <ol>
                    <li><strong>Linearity:</strong> The relationship between the independent and dependent variables should be linear.</li>
                    <li><strong>Independence:</strong> The observations should be independent of each other.</li>
                    <li><strong>Homoscedasticity:</strong> The residuals should have constant variance at every level of the independent variables.</li>
                    <li><strong>Normality:</strong> The residuals should be normally distributed.</li>
                    <li><strong>No multicollinearity:</strong> The independent variables should not be highly correlated with each other.</li>
                </ol>

                <h2>Conclusion</h2>
                <p>
                    Multiple linear regression is a powerful technique for predicting a continuous dependent variable based on multiple independent variables. Both R and Python offer robust tools for implementing and analyzing multiple linear regression models, each with its own strengths and weaknesses.
                </p>
                <p>
                    R excels in statistical analysis with its concise syntax and comprehensive output, while Python offers better integration with other data science tasks and more customizable visualizations. The choice between them depends on your specific needs and preferences.
                </p>
                <p>
                    Whether you're using R or Python, understanding the underlying assumptions and interpreting the results correctly is crucial for making valid inferences from your multiple linear regression models.
                </p>
                
                <div class="post-navigation">
                    <div class="prev-post">
                        <a href="#"><i class="fas fa-arrow-left"></i> Previous Post</a>
                    </div>
                    <div class="next-post">
                        <a href="#">Next Post <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            </div>
        </article>
    </main>

    <a href="#" class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </a>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 My Portfolio. All rights reserved.</p>
            <div class="social-links">
                <a href="https://github.com/MHMNP2021" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                <a href="#" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
                <a href="#" target="_blank"><i class="fab fa-twitter"></i> Twitter</a>
            </div>
        </div>
    </footer>

    <script>
        // Initialize syntax highlighting
        document.addEventListener('DOMContentLoaded', () => {
            hljs.highlightAll();
        });
        
        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = themeToggle.querySelector('i');
        const htmlElement = document.documentElement;
        const lightCodeStyle = document.getElementById('light-code-style');
        const darkCodeStyle = document.getElementById('dark-code-style');
        
        // Check for saved theme preference or use system preference
        const savedTheme = localStorage.getItem('theme');
        const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        function setTheme(isDark) {
            if (isDark) {
                htmlElement.classList.add('dark-mode');
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
                lightCodeStyle.disabled = true;
                darkCodeStyle.disabled = false;
                localStorage.setItem('theme', 'dark');
            } else {
                htmlElement.classList.remove('dark-mode');
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
                lightCodeStyle.disabled = false;
                darkCodeStyle.disabled = true;
                localStorage.setItem('theme', 'light');
            }
        }
        
        if (savedTheme === 'dark' || (!savedTheme && prefersDarkMode)) {
            setTheme(true);
        }
        
        themeToggle.addEventListener('click', () => {
            setTheme(!htmlElement.classList.contains('dark-mode'));
        });
        
        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const navLinks = document.getElementById('navLinks');
        
        mobileMenuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            
            if (navLinks.classList.contains('active')) {
                mobileMenuToggle.innerHTML = '<i class="fas fa-times"></i>';
            } else {
                mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
            }
        });
        
        // Back to top button functionality
        const backToTopButton = document.getElementById('backToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('visible');
            } else {
                backToTopButton.classList.remove('visible');
            }
        });
        
        backToTopButton.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // Progress bar
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        });
        
        // Auto-detect device type
        function detectDeviceType() {
            const userAgent = navigator.userAgent.toLowerCase();
            const isMobile = /iphone|ipad|ipod|android|blackberry|windows phone/g.test(userAgent);
            
            if (isMobile) {
                document.body.classList.add('mobile-device');
            } else {
                document.body.classList.add('desktop-device');
            }
        }
        
        detectDeviceType();
        
        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                navLinks.classList.remove('active');
                mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
            }
        });
    </script>
</body>
</html>
